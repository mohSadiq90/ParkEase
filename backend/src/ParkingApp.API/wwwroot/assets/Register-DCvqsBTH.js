import{r as m,u as p,a as f,j as e,L as N}from"./index-B2BqGpJW.js";import{s as t}from"./toast-DJ39ryeq.js";function b(){const[a,c]=m.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:"",role:2}),[n,o]=m.useState(!1),{register:d}=p(),u=f(),s=r=>{c({...a,[r.target.name]:r.target.value})},h=async r=>{if(r.preventDefault(),a.password!==a.confirmPassword){t.error("Passwords do not match");return}if(a.password.length<8){t.error("Password must be at least 8 characters");return}o(!0);const{confirmPassword:x,...l}=a;l.role=parseInt(l.role);const i=await d(l);i.success?u("/dashboard"):t.error(i.message||"Registration failed"),o(!1)};return e.jsx("div",{className:"auth-page",children:e.jsxs("div",{className:"card auth-card",children:[e.jsx("h1",{className:"auth-title",children:"Create Account"}),e.jsx("p",{className:"auth-subtitle",children:"Join our parking community"}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",className:"form-input",value:a.firstName,onChange:s,placeholder:"John",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",className:"form-input",value:a.lastName,onChange:s,placeholder:"Doe",required:!0})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"form-input",value:a.email,onChange:s,placeholder:"john@example.com",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",className:"form-input",value:a.phoneNumber,onChange:s,placeholder:"+919876543210",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"I want to"}),e.jsxs("select",{name:"role",className:"form-select",value:a.role,onChange:s,children:[e.jsx("option",{value:2,children:"Find Parking (Member)"}),e.jsx("option",{value:1,children:"Rent Out My Parking (Vendor)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Password"}),e.jsx("input",{type:"password",name:"password",className:"form-input",value:a.password,onChange:s,placeholder:"Min 8 characters",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Confirm Password"}),e.jsx("input",{type:"password",name:"confirmPassword",className:"form-input",value:a.confirmPassword,onChange:s,placeholder:"Re-enter password",required:!0})]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:n,children:n?"Creating Account...":"Create Account"})]}),e.jsxs("p",{className:"auth-footer",children:["Already have an account? ",e.jsx(N,{to:"/login",children:"Sign in"})]})]})})}export{b as default};
